openapi: 3.0.0
info:
  title: Cheese Community API
  version: "1.0"
servers:
  - url: "http://localhost:7777/api/v1"
paths:
  /spaces/{spaceId}:
    delete:
      parameters:
        - description: Space ID
          in: path
          name: spaceId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: fr61caeks4gxw
                  message:
                    type: string
                    x-stoplight:
                      id: 8ylo3xkd1jmiq
                required:
                  - code
                  - message
                type: object
          description: OK
      tags: []
      operationId: delete-space
      summary: Delete Space
      x-stoplight:
        id: y5t7k7vw6v5lj
    get:
      parameters:
        - description: Space ID
          in: path
          name: spaceId
          required: true
          schema:
            type: integer
            format: int64
        - description: Query your rank in this space
          in: query
          name: queryMyRank
          schema:
            type: boolean
            default: false
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: fr61caeks4gxw
                  data:
                    properties:
                      space:
                        $ref: "#/components/schemas/Space"
                    required:
                      - space
                    type: object
                    x-stoplight:
                      id: aq9k2n1lkyybd
                  message:
                    type: string
                    x-stoplight:
                      id: 8ylo3xkd1jmiq
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: get-space
      summary: Query Space
      x-stoplight:
        id: sa76mapokoxdw
    patch:
      parameters:
        - description: Space ID
          in: path
          name: spaceId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: fr61caeks4gxw
                  data:
                    properties:
                      space:
                        $ref: "#/components/schemas/Space"
                    required:
                      - space
                    type: object
                    x-stoplight:
                      id: aq9k2n1lkyybd
                  message:
                    type: string
                    x-stoplight:
                      id: 8ylo3xkd1jmiq
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: patch-space
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                intro:
                  type: string
                  x-stoplight:
                    id: o0xbwqyvvlxbw
                description:
                  type: string
                name:
                  type: string
                  x-stoplight:
                    id: nvrbufaetpfgt
                avatarId:
                  type: integer
                  x-stoplight:
                    id: jfrrkzlkmiav2
                  format: int64
                enableRank:
                  type: boolean
                announcements:
                  type: string
                taskTemplates:
                  type: string
                classificationTopics:
                  type: array
                  items:
                    type: integer
                    format: int64
      summary: Update Space
      x-stoplight:
        id: 0f71c5ul8igvq
  /spaces:
    get:
      summary: Enumerate Spaces
      tags: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: 5gq7kfjr7g288
                  data:
                    type: object
                    x-stoplight:
                      id: pf3jhme2fvxd9
                    properties:
                      spaces:
                        type: array
                        x-stoplight:
                          id: mmwrg6njl8i2e
                        items:
                          $ref: "#/components/schemas/Space"
                      page:
                        $ref: "#/components/schemas/Page"
                  message:
                    type: string
                    x-stoplight:
                      id: jl4ak7ckhxdhm
      operationId: get-spaces
      x-stoplight:
        id: ftqdjmms34blr
      parameters:
        - description: Query your rank in this space
          in: query
          name: queryMyRank
          schema:
            type: boolean
            default: false
        - schema:
            type: integer
          in: query
          name: page_size
          description: Page Size
        - schema:
            type: integer
            format: int64
          in: query
          name: page_start
          description: ID of First Element
        - schema:
            type: string
            default: createdAt
          in: query
          name: sort_by
          description: '"createdAt" or "updatedAt"'
        - schema:
            type: string
            default: desc
          in: query
          name: sort_order
          description: '"asc" or "desc"'
    post:
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: fr61caeks4gxw
                  data:
                    properties:
                      space:
                        $ref: "#/components/schemas/Space"
                    required:
                      - space
                    type: object
                    x-stoplight:
                      id: aq9k2n1lkyybd
                  message:
                    type: string
                    x-stoplight:
                      id: 8ylo3xkd1jmiq
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: post-space
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - intro
                - description
                - name
                - avatarId
                - announcements
                - taskTemplates
              properties:
                intro:
                  type: string
                  x-stoplight:
                    id: 7k1r7n9xll0k2
                description:
                  type: string
                name:
                  type: string
                  x-stoplight:
                    id: ters5hblboh72
                avatarId:
                  type: integer
                  x-stoplight:
                    id: 3ec9m0u97i2rr
                  format: int64
                enableRank:
                  type: boolean
                  default: false
                announcements:
                  type: string
                taskTemplates:
                  type: string
                classificationTopics:
                  type: array
                  items:
                    type: integer
                    format: int64
                  default: []
      summary: Create Space
      x-stoplight:
        id: pg0dllezwwg9w
  /spaces/{spaceId}/managers/{userId}:
    delete:
      summary: Disqualify Space Admin
      tags: []
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: fr61caeks4gxw
                  message:
                    type: string
                    x-stoplight:
                      id: 8ylo3xkd1jmiq
                required:
                  - code
                  - message
                type: object
          description: OK
      operationId: delete-space-admin
      x-stoplight:
        id: 3folrj4cnukp4
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: spaceId
          description: Space ID
          required: true
        - schema:
            type: integer
            format: int64
          in: path
          name: userId
          description: Admin User ID
          required: true
    patch:
      summary: Update Space Admin Info
      tags: []
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: fr61caeks4gxw
                  data:
                    properties:
                      space:
                        $ref: "#/components/schemas/Space"
                    required:
                      - space
                    type: object
                    x-stoplight:
                      id: aq9k2n1lkyybd
                  message:
                    type: string
                    x-stoplight:
                      id: 8ylo3xkd1jmiq
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      operationId: patch-space-admin
      x-stoplight:
        id: viqdcn2w1j37r
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: spaceId
          description: Space ID
          required: true
        - schema:
            type: integer
            format: int64
          in: path
          name: userId
          description: Admin User ID
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                role:
                  $ref: "#/components/schemas/SpaceAdminRoleType"
  /spaces/{spaceId}/managers:
    post:
      summary: Add Space Admin
      tags: []
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: fr61caeks4gxw
                  data:
                    properties:
                      space:
                        $ref: "#/components/schemas/Space"
                    required:
                      - space
                    type: object
                    x-stoplight:
                      id: aq9k2n1lkyybd
                  message:
                    type: string
                    x-stoplight:
                      id: 8ylo3xkd1jmiq
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      operationId: post-space-admin
      x-stoplight:
        id: le3meyzafgt31
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: spaceId
          description: Space ID
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - role
                - userId
              properties:
                role:
                  $ref: "#/components/schemas/SpaceAdminRoleType"
                userId:
                  type: integer
                  x-stoplight:
                    id: uqb3cxqft9n9q
                  format: int64
  /tasks/{taskId}:
    delete:
      parameters:
        - description: Task ID
          in: path
          name: taskId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: 5h4i9qnxtzkyc
                  message:
                    type: string
                    x-stoplight:
                      id: yakrhf5tw2k0o
                required:
                  - code
                  - message
                type: object
          description: OK
      tags: []
      operationId: delete-task
      summary: Delete Task
      x-stoplight:
        id: zjib7afl5gujp
    get:
      parameters:
        - description: Task ID
          in: path
          name: taskId
          required: true
          schema:
            type: integer
            format: int64
        - schema:
            type: boolean
            default: false
          in: query
          name: querySpace
          description: Query the space that the task belongs to
        - schema:
            type: boolean
            default: false
          in: query
          name: queryTeam
          description: Query the team that the task belongs to
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoinability
          description: Check whether current user can join this task or using one of his/her team
        - schema:
            type: boolean
            default: false
          in: query
          name: querySubmittability
          description: Check whether current user can submit this task or using one of his/her team
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoined
          description: Check whether current user has joined this task
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoinedApproved
          description: Check whether current user has joined this task and has been approved
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoinedDisapproved
          description: Check whether current user has joined this task and has been disapproved
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoinedNotApprovedOrDisapproved
          description: Check whether current user has joined this task and has not been approved or disapproved
        - schema:
            type: boolean
            default: false
          in: query
          name: queryTopics
          description: Query task's topics
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: ehv14gy4oxg6y
                  data:
                    properties:
                      task:
                        $ref: "#/components/schemas/Task"
                    required:
                      - task
                    type: object
                    x-stoplight:
                      id: nkg36f022iluq
                  message:
                    type: string
                    x-stoplight:
                      id: avsxy26ifxoca
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: get-task
      summary: Query Task
      x-stoplight:
        id: fuv3w7t9i0rmo
    patch:
      parameters:
        - description: Task ID
          in: path
          name: taskId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: ehv14gy4oxg6y
                  data:
                    properties:
                      task:
                        $ref: "#/components/schemas/Task"
                    required:
                      - task
                    type: object
                    x-stoplight:
                      id: nkg36f022iluq
                  message:
                    type: string
                    x-stoplight:
                      id: avsxy26ifxoca
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: patch-task
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  x-stoplight:
                    id: 4eatfhceym142
                hasDeadline:
                  type: boolean
                deadline:
                  type: integer
                  format: int64
                hasParticipantLimit:
                  type: boolean
                participantLimit:
                  type: integer
                defaultDeadline:
                  type: integer
                  format: int64
                resubmittable:
                  type: boolean
                  x-stoplight:
                    id: 3uylnstdpqmi8
                editable:
                  type: boolean
                  x-stoplight:
                    id: 5z1nmt7xtfq6p
                intro:
                  type: string
                description:
                  type: string
                  x-stoplight:
                    id: 50a27oqgfu81b
                submissionSchema:
                  type: array
                  x-stoplight:
                    id: s3pibjz1gy1ek
                  items:
                    $ref: "#/components/schemas/TaskSubmissionSchemaEntry"
                hasRank:
                  type: boolean
                rank:
                  type: integer
                approved:
                  $ref: '#/components/schemas/ApproveType'
                rejectReason:
                  type: string
                topics:
                  type: array
                  items:
                    type: integer
                    format: int64
      summary: Update Task
      x-stoplight:
        id: sy7yhfh83myt0
  /tasks:
    get:
      summary: Enumerate Tasks
      tags: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: 5gq7kfjr7g288
                  data:
                    type: object
                    x-stoplight:
                      id: pf3jhme2fvxd9
                    properties:
                      tasks:
                        type: array
                        x-stoplight:
                          id: mmwrg6njl8i2e
                        items:
                          $ref: "#/components/schemas/Task"
                      page:
                        $ref: "#/components/schemas/Page"
                  message:
                    type: string
                    x-stoplight:
                      id: jl4ak7ckhxdhm
      operationId: get-tasks
      x-stoplight:
        id: ftqdjmms34blr
      parameters:
        - schema:
            type: integer
            format: int64
          in: query
          name: space
          description: Space ID
        - schema:
            type: integer
            format: int64
          in: query
          name: team
          description: Team ID
        - schema:
            $ref: '#/components/schemas/ApproveType'
          in: query
          name: approved
          description: Distinguish task status 
        - schema:
            type: integer
            format: int64
          in: query
          name: owner
          description: Owner's User ID
        - schema:
            type: boolean
          in: query
          name: joined
          description: Require joined or not
        - schema:
            type: array
            items:
              type: integer
              format: int64
          in: query
          name: topics
          description: Only show tasks with at least one of these topics
        - schema:
            type: integer
            default: 9
          in: query
          name: page_size
          description: Page Size
        - schema:
            type: integer
            format: int64
          in: query
          name: page_start
          description: ID of First Element
        - schema:
            type: string
            default: updatedAt
          in: query
          name: sort_by
          description: '"updatedAt", "deadline" or "createdAt"'
        - schema:
            type: string
            default: desc
          in: query
          name: sort_order
          description: '"asc" or "desc"'
        - schema:
            type: boolean
            default: false
          in: query
          name: querySpace
          description: Query the space that the task belongs to
        - schema:
            type: boolean
            default: false
          in: query
          name: queryTeam
          description: Query the team that the task belongs to
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoinability
          description: Check whether current user can join this task or using one of his/her team
        - schema:
            type: boolean
            default: false
          in: query
          name: querySubmittability
          description: Check whether current user can submit this task or using one of his/her team
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoined
          description: Check whether current user has joined this task
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoinedApproved
          description: Check whether current user has joined this task and has been approved
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoinedDisapproved
          description: Check whether current user has joined this task and has been disapproved
        - schema:
            type: boolean
            default: false
          in: query
          name: queryJoinedNotApprovedOrDisapproved
          description: Check whether current user has joined this task and has not been approved or disapproved
        - schema:
            type: boolean
            default: false
          in: query
          name: queryTopics
          description: Query task's topics
        - schema:
            type: string
          in: query
          name: keywords
          description: Use this to search
    post:
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: ehv14gy4oxg6y
                  data:
                    properties:
                      task:
                        $ref: "#/components/schemas/Task"
                    required:
                      - task
                    type: object
                    x-stoplight:
                      id: nkg36f022iluq
                  message:
                    type: string
                    x-stoplight:
                      id: avsxy26ifxoca
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: post-task
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - submitterType
                - resubmittable
                - editable
                - intro
                - description
                - submissionSchema
              properties:
                name:
                  type: string
                  x-stoplight:
                    id: o3nu6n0d4nu01
                submitterType:
                  $ref: "#/components/schemas/TaskSubmitterType"
                deadline:
                  type: integer
                  format: int64
                participantLimit:
                  type: integer
                defaultDeadline:
                  type: integer
                  format: int64
                  default: 30
                resubmittable:
                  type: boolean
                  x-stoplight:
                    id: 5x0rtugaj2v8a
                editable:
                  type: boolean
                  x-stoplight:
                    id: 6slkgw3drj9t0
                intro:
                  type: string
                description:
                  type: string
                  x-stoplight:
                    id: s3hgl7ozj3e12
                submissionSchema:
                  type: array
                  x-stoplight:
                    id: a08xra4phvwqx
                  items:
                    $ref: "#/components/schemas/TaskSubmissionSchemaEntry"
                team:
                  type: integer
                  format: int64
                  x-stoplight:
                space:
                    type: integer
                    format: int64
                rank:
                  type: integer
                topics:
                  type: array
                  items:
                    type: integer
                    format: int64
                  default: []
      summary: Create Task
      x-stoplight:
        id: ai79622xpxp6v
  /tasks/{taskId}/participants:
    get:
      summary: Get Participants
      tags: [ ]
      operationId: get-task-participants
      parameters:
        - description: Task ID
          in: path
          name: taskId
          required: true
          schema:
            type: integer
            format: int64
        - schema:
            $ref: "#/components/schemas/ApproveType"
          in: query
          name: approved
          description: approve status
        - schema:
            type: boolean
            default: false
          in: query
          name: queryRealNameInfo
          description: Query real name info
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: ehv14gy4oxg6y
                  data:
                    type: object
                    x-stoplight:
                      id: nkg36f022iluq
                    required:
                      - participants
                    properties:
                      participants:
                        type: array
                        items:
                          $ref: '#/components/schemas/TaskMembership'
                  message:
                    type: string
          description: OK
    patch:
      summary: Update TaskMembership
      parameters:
        - description: Task ID
          in: path
          name: taskId
          required: true
          schema:
            type: integer
            format: int64
        - description: Member ID
          in: query
          name: member
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: ehv14gy4oxg6y
                  data:
                    properties:
                      participants:
                        type: array
                        items:
                          $ref: '#/components/schemas/TaskMembership'
                    required:
                      - participant
                    type: object
                  message:
                    type: string
                    x-stoplight:
                      id: avsxy26ifxoca
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: [ ]
      operationId: patch-task-membership
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                deadline:
                  type: integer
                  format: int64
                approved:
                  $ref: "#/components/schemas/ApproveType"
                realNameInfo:
                  $ref: '#/components/schemas/TaskParticipantRealNameInfo'
    delete:
      parameters:
        - description: Task ID
          in: path
          name: taskId
          required: true
          schema:
            type: integer
            format: int64
        - description: Member ID
          in: query
          name: member
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: ehv14gy4oxg6y
                  data:
                    properties:
                      participants:
                        type: array
                        items:
                          $ref: '#/components/schemas/TaskMembership'
                    required:
                      - task
                    type: object
                    x-stoplight:
                      id: nkg36f022iluq
                  message:
                    type: string
                    x-stoplight:
                      id: avsxy26ifxoca
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: delete-task-participant
      summary: Leave Task
      x-stoplight:
        id: a3mg97p7csitv
    post:
      parameters:
        - description: Task ID
          in: path
          name: taskId
          required: true
          schema:
            type: integer
            format: int64
        - description: Member ID
          in: query
          name: member
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: ehv14gy4oxg6y
                  data:
                    properties:
                      participants:
                        type: array
                        items:
                          $ref: '#/components/schemas/TaskMembership'
                    required:
                      - task
                    type: object
                    x-stoplight:
                      id: nkg36f022iluq
                  message:
                    type: string
                    x-stoplight:
                      id: avsxy26ifxoca
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                deadline:
                  type: integer
                  format: int64
                realNameInfo:
                  $ref: '#/components/schemas/TaskParticipantRealNameInfo'
      tags: []
      operationId: post-task-participant
      summary: Apply for Task
      x-stoplight:
        id: 0ecf6ar0lufhc
  /tasks/{taskId}/submissions:
    get:
      summary: Enumerate Submissions
      tags: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: z9cn9fpmjd8q9
                  data:
                    type: object
                    x-stoplight:
                      id: 4qz1eg2f7ik2r
                    required:
                      - submissions
                      - page
                    properties:
                      submissions:
                        type: array
                        x-stoplight:
                          id: 7d338ut7il9ir
                        items:
                          $ref: "#/components/schemas/TaskSubmission"
                      page:
                        $ref: "#/components/schemas/Page"
                  message:
                    type: string
                    x-stoplight:
                      id: r66i6ceotv1v5
      operationId: get-task-submissions
      x-stoplight:
        id: usg5sp6qn0vk5
      parameters:
        - description: Task ID
          in: path
          name: taskId
          required: true
          schema:
            type: integer
            format: int64
        - schema:
            type: integer
            format: int64
          in: query
          name: member
          description: Submitter's User/Team ID
        - schema:
            type: boolean
            default: false
          in: query
          name: allVersions
          description: Include All Versions
        - schema:
            type: boolean
            default: false
          in: query
          name: queryReview
          description: Query task owner's review
        - schema:
            type: boolean
          in: query
          name: reviewed
          description: Only return reviewed or unreviewed submissions
        - schema:
            type: integer
            default: 9
          in: query
          name: page_size
          description: Page Size
        - schema:
            type: integer
            format: int64
          in: query
          name: page_start
          description: ID of First Element
        - schema:
            type: string
            default: updatedAt
          in: query
          name: sort_by
          description: '"updatedAt" or "createdAt"'
        - schema:
            type: string
            default: desc
          in: query
          name: sort_order
          description: '"asc" or "desc"'
    post:
      summary: Create Submission
      tags: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: 8cycuoqnez3jy
                  data:
                    type: object
                    x-stoplight:
                      id: 61ebyaq47bf2m
                    required:
                      - submission
                    properties:
                      submission:
                        $ref: "#/components/schemas/TaskSubmission"
                  message:
                    type: string
                    x-stoplight:
                      id: 1yqhvadvvagsi
      operationId: post-task-submission
      x-stoplight:
        id: yxrs4ye6kd72l
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: taskId
          description: Task ID
          required: true
        - schema:
            type: integer
            format: int64
          in: query
          name: member
          description: Member's User/Group ID
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                x-stoplight:
                  id: qah6gsxw0ac86
                type: object
                properties:
                  contentText:
                    type: string
                    x-stoplight:
                      id: bvu1xobv7k62h
                  contentAttachmentId:
                    type: integer
                    x-stoplight:
                      id: 6pybgx4byzj2l
                    format: int64
  /tasks/{taskId}/submissions/{version}:
    patch:
      summary: Update Submission
      tags: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: 8cycuoqnez3jy
                  data:
                    type: object
                    x-stoplight:
                      id: 61ebyaq47bf2m
                    required:
                      - submission
                    properties:
                      submission:
                        $ref: "#/components/schemas/TaskSubmission"
                  message:
                    type: string
                    x-stoplight:
                      id: 1yqhvadvvagsi
      operationId: patch-task-submission
      x-stoplight:
        id: bne4484m8c59j
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: taskId
          description: Task ID
          required: true
        - schema:
            type: integer
            format: int64
          in: query
          name: member
          description: Member's User/Group ID
          required: true
        - schema:
            type: integer
          in: path
          name: version
          description: Version Index
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                x-stoplight:
                  id: qah6gsxw0ac86
                type: object
                properties:
                  contentText:
                    type: string
                    x-stoplight:
                      id: bvu1xobv7k62h
                  contentAttachmentId:
                    type: integer
                    x-stoplight:
                      id: 6pybgx4byzj2l
                    format: int64
  '/tasks/submissions/{submissionId}/review':
    post:
      summary: Review Submission
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                  data:
                    type: object
                    required:
                      - submission
                      - hasUpgradedParticipantRank
                    properties:
                      submission:
                        $ref: '#/components/schemas/TaskSubmission'
                      hasUpgradedParticipantRank:
                        type: boolean
                  message:
                    type: string
      operationId: post-task-submission-review
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: submissionId
          description: Task Submission ID
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - accepted
                - score
                - comment
              properties:
                accepted:
                  type: boolean
                score:
                  type: integer
                comment:
                  type: string
    patch:
      summary: Re-Review Submission
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                  data:
                    type: object
                    required:
                      - submission
                      - hasUpgradedParticipantRank
                    properties:
                      submission:
                        $ref: '#/components/schemas/TaskSubmission'
                      hasUpgradedParticipantRank:
                        type: boolean
                  message:
                    type: string
      operationId: patch-task-submission-review
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: submissionId
          description: Task Submission ID
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                accepted:
                  type: boolean
                score:
                  type: integer
                comment:
                  type: string
    delete:
      summary: Revert Review Submission
      tags: []
      responses:
        '200':
          description: OK
      operationId: delete-task-submission-review
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: submissionId
          description: Task Submission ID
          required: true
  /teams/{teamId}:
    delete:
      parameters:
        - description: Team ID
          in: path
          name: teamId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: d3x5wr67b0uvq
                  message:
                    type: string
                    x-stoplight:
                      id: 1tqn6nvv2twh3
                required:
                  - code
                  - message
                type: object
          description: No Content
      tags: []
      operationId: delete-team
      summary: Delete Team
      x-stoplight:
        id: cszkqabi3y737
    get:
      parameters:
        - description: Team ID
          in: path
          name: teamId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: tlgjum86pp2qc
                  data:
                    properties:
                      team:
                        $ref: "#/components/schemas/Team"
                    required:
                      - team
                    type: object
                    x-stoplight:
                      id: uc32cpg2k5x68
                  message:
                    type: string
                    x-stoplight:
                      id: zp1goqu7fzjss
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: get-team
      summary: Query Team
      x-stoplight:
        id: kvkav72t81xwo
    patch:
      parameters:
        - description: Team ID
          in: path
          name: teamId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: tlgjum86pp2qc
                  data:
                    properties:
                      team:
                        $ref: "#/components/schemas/Team"
                    required:
                      - team
                    type: object
                    x-stoplight:
                      id: uc32cpg2k5x68
                  message:
                    type: string
                    x-stoplight:
                      id: zp1goqu7fzjss
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: patch-team
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                intro:
                  type: string
                  x-stoplight:
                    id: 8ctriovz0q68i
                description:
                  type: string
                name:
                  type: string
                  x-stoplight:
                    id: w0qplzea4vc28
                avatarId:
                  type: integer
                  x-stoplight:
                    id: 2rmqalnmdzlw7
                  format: int64
      summary: Update Team
      x-stoplight:
        id: 6f4e855dosj7n
  /teams/my-teams:
    get:
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: tlgjum86pp2qc
                  data:
                    type: object
                    x-stoplight:
                      id: uc32cpg2k5x68
                    required:
                      - teams
                    properties:
                      teams:
                        x-stoplight:
                          id: hrqbg64zl0qbw
                        type: array
                        items:
                          $ref: '#/components/schemas/Team'
                  message:
                    type: string
                    x-stoplight:
                      id: zp1goqu7fzjss
          description: OK
      tags: [ ]
      operationId: get-my-teams
      summary: Query My Teams
      x-stoplight:
        id: a2xj7aw8g9ryd
    parameters: [ ]
  /teams:
    post:
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: tlgjum86pp2qc
                  data:
                    properties:
                      team:
                        $ref: "#/components/schemas/Team"
                    required:
                      - team
                    type: object
                    x-stoplight:
                      id: uc32cpg2k5x68
                  message:
                    type: string
                    x-stoplight:
                      id: zp1goqu7fzjss
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: post-team
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - intro
                - description
                - name
                - avatarId
              properties:
                intro:
                  type: string
                  x-stoplight:
                    id: ld5e4eauav2h5
                description:
                  type: string
                name:
                  type: string
                  x-stoplight:
                    id: fjmkk5mgsmm7u
                avatarId:
                  type: integer
                  x-stoplight:
                    id: 52sk47hz5a1ra
                  format: int64
      summary: Create Team
      x-stoplight:
        id: b30d0d09hir43
    get:
      summary: Get Teams
      tags: [ ]
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                  data:
                    type: object
                    required:
                      - teams
                    properties:
                      teams:
                        type: array
                        items:
                          $ref: '#/components/schemas/Team'
                      page:
                        $ref: '#/components/schemas/Page'
                  message:
                    type: string
          description: OK
      operationId: get-teams
      x-stoplight:
        id: o741q5kyy29oq
      parameters:
        - schema:
            type: string
            default: ""
          in: query
          name: query
          description: ID or Search Term
          allowEmptyValue: true
        - schema:
            type: integer
            format: int64
          in: query
          name: page_start
        - schema:
            type: integer
            default: 20
          in: query
          name: page_size
  /teams/{teamId}/members:
    get:
      summary: Enumerate Team Members
      tags: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - data
                  - message
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: 0th6k67nb90s9
                  data:
                    type: object
                    x-stoplight:
                      id: 8by2zt9excjeb
                    required:
                      - members
                    properties:
                      members:
                        type: array
                        x-stoplight:
                          id: ip7suy3lywjot
                        items:
                          $ref: "#/components/schemas/TeamMember"
                  message:
                    type: string
                    x-stoplight:
                      id: rtcby5e62je5x
      operationId: get-team-members
      x-stoplight:
        id: dgnsjcgro7dgn
      parameters:
        - schema:
            type: integer
            format: int64
          in: path
          name: teamId
          description: Team ID
          required: true
    post:
      parameters:
        - description: Team ID
          in: path
          name: teamId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: tlgjum86pp2qc
                  data:
                    properties:
                      team:
                        $ref: "#/components/schemas/Team"
                    required:
                      - team
                    type: object
                    x-stoplight:
                      id: uc32cpg2k5x68
                  message:
                    type: string
                    x-stoplight:
                      id: zp1goqu7fzjss
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: post-team-member
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                role:
                  $ref: "#/components/schemas/TeamMemberRoleType"
                user_id:
                  type: integer
                  format: int64
                  x-stoplight:
                    id: wdxfg6sq0yrj5
              required:
                - role
                - user_id
              type: object
      summary: Add Team Member
      x-stoplight:
        id: qpmnix1tpjoiy
  /teams/{teamId}/members/{userId}:
    delete:
      parameters:
        - description: Team ID
          in: path
          name: teamId
          required: true
          schema:
            type: integer
            format: int64
        - description: Member User ID
          in: path
          name: userId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: tlgjum86pp2qc
                  data:
                    properties:
                      team:
                        $ref: "#/components/schemas/Team"
                    required:
                      - team
                    type: object
                    x-stoplight:
                      id: uc32cpg2k5x68
                  message:
                    type: string
                    x-stoplight:
                      id: zp1goqu7fzjss
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: delete-team-member
      summary: Kick Out Team Member
      x-stoplight:
        id: 2d36c06ks5t0y
    patch:
      parameters:
        - description: Team ID
          in: path
          name: teamId
          required: true
          schema:
            type: integer
            format: int64
        - description: Member User ID
          in: path
          name: userId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                    x-stoplight:
                      id: tlgjum86pp2qc
                  data:
                    properties:
                      team:
                        $ref: "#/components/schemas/Team"
                    required:
                      - team
                    type: object
                    x-stoplight:
                      id: uc32cpg2k5x68
                  message:
                    type: string
                    x-stoplight:
                      id: zp1goqu7fzjss
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: []
      operationId: patch-team-member
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                role:
                  $ref: "#/components/schemas/TeamMemberRoleType"
              type: object
      summary: Update Team Membership Info
      x-stoplight:
        id: 5kzla05sox4wy
  /notifications/{notificationId}:
    delete:
      parameters:
        - description: Notification ID
          in: path
          name: notificationId
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                  message:
                    type: string
                required:
                  - code
                  - message
                type: object
          description: OK
      tags: [ ]
      operationId: delete-notification
      summary: Delete Notification
  /notifications:
    get:
      summary: List Notifications
      tags: [ ]
      parameters:
        - schema:
            type: object
          in: query
          name: type
          description: Notification Type
          required: false
        - schema:
            type: boolean
          in: query
          name: read
          description: Whether to filter read notifications
          required: false
        - schema:
            type: integer
            format: int64
          in: query
          name: page_start
          description: Page Start Index
          required: true
        - schema:
            type: integer
            format: int32
          in: query
          name: page_size
          description: Page Size
          required: true
      operationId: list-notifications
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    required:
                      - notifications
                      - page
                    properties:
                      notifications:
                        type: array
                        items:
                          $ref: "#/components/schemas/Notification"
                      page:
                        $ref: "#/components/schemas/Page"
    post:
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  code:
                    type: integer
                  data:
                    properties:
                      notification:
                        $ref: "#/components/schemas/Notification"
                    required:
                      - notification
                    type: object
                  message:
                    type: string
                required:
                  - code
                  - data
                  - message
                type: object
          description: OK
      tags: [ ]
      operationId: post-notification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - type
                - receiverId
                - content
              properties:
                type:
                  type: string
                  enum:
                    - mention
                    - reply
                    - reaction
                    - project_invite
                    - deadline_remind
                receiverId:
                  type: integer
                  format: int64
                content:
                  type: object
                  properties:
                    text:
                      type: string
                    projectId:
                      type: integer
                      format: int64
                    discussionId:
                      type: integer
                      format: int64
                    knowledgeId:
                      type: integer
                      format: int64
      summary: Create Notification
  /notifications/read:
    post:
      summary: Mark Notifications as Read
      tags: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - notificationIds
              properties:
                notificationIds:
                  type: array
                  items:
                    type: integer
                    format: int64
      operationId: mark-notifications-as-read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
  /notifications/unread/count:
    get:
      summary: Get Unread Notifications Count
      tags: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - receiverId
              properties:
                receiverId:
                  type: integer
                  format: int64
      operationId: get-unread-notifications-count
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    type: object
                    properties:
                      count:
                        type: integer
                        default: 5
  /projects:
    post:
      summary: Create Project
      tags: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - description
                - colorCode
                - startDate
                - endDate
                - leaderId
                - content
              properties:
                name:
                  type: string
                description:
                  type: string
                colorCode:
                  type: string
                  pattern: "^#[0-9A-Fa-f]{6}$"
                startDate:
                  type: integer
                  format: int64
                  description: ()
                endDate:
                  type: integer
                  format: int64
                  description: ()
                parentId:
                  type: integer
                  format: int64
                  description: ID
                leaderId:
                  type: integer
                  format: int64
                externalTaskId:
                  type: integer
                  format: int64
                githubRepo:
                  type: string
                content:
                  type: string
                externalCollaborators:
                  type: array
                  items:
                    type: object
                    properties:
                      userId:
                        type: integer
                        format: int64
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    type: object
                    properties:
                      project:
                        $ref: '#/components/schemas/Project'
    get:
      summary: List Projects
      tags: []
      parameters:
        - name: parent_id
          in: query
          description: ID ()
          schema:
            type: integer
            format: int64
        - name: leader_id
          in: query
          description: ID ()
          schema:
            type: integer
            format: int64
        - name: member_id
          in: query
          description: ID ()
          schema:
            type: integer
            format: int64
        - name: status
          in: query
          description:  ()
          schema:
            type: string
        - name: page_start
          in: query
          description: ID
          schema:
            type: integer
            format: int64
        - name: page_size
          in: query
          description:  (20)
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    type: object
                    properties:
                      projects:
                        type: array
                        items:
                          $ref: '#/components/schemas/Project'
                      page:
                        $ref: '#/components/schemas/Page'
  /projects/{projectId}/discussions:
    post:
      summary: Create Discussion
      tags: []
      parameters:
        - name: projectId
          in: path
          description: ID
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - content
              properties:
                content:
                  type: string
                parentId:
                  type: integer
                  format: int64
                  description:  ()
                mentionedUserIds:
                  type: array
                  items:
                    type: integer
                    format: int64
                  description: ID ()
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    type: object
                    properties:
                      discussion:
                        $ref: '#/components/schemas/Discussion'
    get:
      summary: List Discussions
      tags: []
      parameters:
        - name: projectId
          in: path
          description: ID
          required: true
          schema:
            type: integer
            format: int64
        - name: project_filter
          in: query
          description: 
          schema:
            type: object
            properties:
              type:
                type: string
                enum: [projects, tree]
              projectIds:
                type: array
                items:
                  type: integer
                  format: int64
              rootProjectId:
                type: integer
                format: int64
              includeRoot:
                type: boolean
        - name: before
          in: query
          description: ()
          schema:
            type: integer
            format: int64
        - name: page_start
          in: query
          description: ID
          schema:
            type: integer
            format: int64
        - name: page_size
          in: query
          description:  (20)
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    type: object
                    properties:
                      discussions:
                        type: array
                        items:
                          $ref: '#/components/schemas/Discussion'
                      page:
                        $ref: '#/components/schemas/Page'
  /projects/{projectId}/discussions/{discussionId}/reactions:
    post:
      summary: React to Discussion
      tags: []
      parameters:
        - name: projectId
          in: path
          description: ID
          required: true
          schema:
            type: integer
            format: int64
        - name: discussionId
          in: path
          description: ID
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - emoji
              properties:
                emoji:
                  type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    type: object
                    properties:
                      reaction:
                        type: object
                        properties:
                          emoji:
                            type: string
                          count:
                            type: integer
                          users:
                            type: array
                            items:
                              $ref: '#/components/schemas/User'
  /knowledge:
    post:
      summary: Create Knowledge Item
      tags: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - type
                - content
              properties:
                name:
                  type: string
                description:
                  type: string
                type:
                  type: string
                  enum: [document, link, text, image]
                content:
                  type: string
                projectIds:
                  type: array
                  items:
                    type: integer
                    format: int64
                labels:
                  type: array
                  items:
                    type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    type: object
                    properties:
                      knowledge:
                        $ref: '#/components/schemas/Knowledge'
    get:
      summary: List Knowledge Items
      tags: []
      parameters:
        - name: project_ids
          in: query
          description: ID ()
          schema:
            type: array
            items:
              type: integer
              format: int64
        - name: type
          in: query
          description:  ()
          schema:
            type: string
        - name: labels
          in: query
          description:  ()
          schema:
            type: array
            items:
              type: string
        - name: query
          in: query
          description:  ()
          schema:
            type: string
        - name: page_start
          in: query
          description: ID
          schema:
            type: integer
            format: int64
        - name: page_size
          in: query
          description:  (20)
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - message
                  - data
                properties:
                  code:
                    type: integer
                    default: 0
                  message:
                    type: string
                    default: "success"
                  data:
                    type: object
                    properties:
                      knowledge:
                        type: array
                        items:
                          $ref: '#/components/schemas/Knowledge'
                      page:
                        $ref: '#/components/schemas/Page'
components:
  schemas:
    Space:
      title: Space
      type: object
      x-stoplight:
        id: m94sek8uqj951
      required:
        - id
        - intro
        - description
        - name
        - avatarId
        - admins
        - updatedAt
        - createdAt
        - enableRank
        - announcements
        - taskTemplates
        - classificationTopics
      properties:
        id:
          type: integer
          format: int64
          x-stoplight:
            id: 52nmixpoapf5m
        intro:
          type: string
          x-stoplight:
            id: 63zv59n5mly94
        description:
          type: string
        name:
          type: string
          x-stoplight:
            id: 5nbcfqkp85xhz
        avatarId:
          type: integer
          x-stoplight:
            id: nzf2cadgfyc4c
          format: int64
        admins:
          type: array
          x-stoplight:
            id: yb2e4v8o2lboq
          items:
            $ref: "#/components/schemas/SpaceAdmin"
        updatedAt:
          type: integer
          x-stoplight:
            id: farniiu4ivtrv
          format: int64
        createdAt:
          type: integer
          x-stoplight:
            id: ish0wypndvdar
          format: int64
        enableRank:
          type: boolean
        announcements:
          type: string
        taskTemplates:
          type: string
        myRank:
          type: integer
          description: 'Only has value when: ''queryJoinablity'' == true && ''enableRank'' == true'
        classificationTopics:
          type: array
          items:
            $ref: '#/components/schemas/Topic'
    SpaceAdmin:
      title: SpaceAdmin
      x-stoplight:
        id: 01blazh0k7wdi
      type: object
      required:
        - role
        - user
        - updatedAt
        - createdAt
      properties:
        role:
          $ref: "#/components/schemas/SpaceAdminRoleType"
        user:
          $ref: "#/components/schemas/User"
        updatedAt:
          type: integer
          x-stoplight:
            id: farniiu4ivtrv
          format: int64
        createdAt:
          type: integer
          x-stoplight:
            id: ish0wypndvdar
          format: int64
    SpaceAdminRoleType:
      title: SpaceAdminRoleType
      x-stoplight:
        id: ccho6vgvtwdph
      enum:
        - OWNER
        - ADMIN
    Task:
      title: Task
      type: object
      x-stoplight:
        id: 3spbmywj9wzkf
      required:
        - id
        - name
        - submitterType
        - defaultDeadline
        - creator
        - resubmittable
        - editable
        - intro
        - description
        - submissionSchema
        - submitters
        - updatedAt
        - createdAt
      properties:
        id:
          type: integer
          format: int64
          x-stoplight:
            id: 34pdr2ppu7b1x
        name:
          type: string
          x-stoplight:
            id: rbj58vdb6mhrx
        submitterType:
          $ref: '#/components/schemas/TaskSubmitterType'
        defaultDeadline:
          type: integer
          format: int64
        creator:
          $ref: '#/components/schemas/User'
        deadline:
          type: integer
          format: int64
        participantLimit:
          type: integer
        resubmittable:
          type: boolean
          x-stoplight:
            id: 02b68oosp6tei
        editable:
          type: boolean
          x-stoplight:
            id: 2tmxxqzvv73pw
        intro:
          type: string
        description:
          type: string
          x-stoplight:
            id: szwjs5c0ougvr
        space:
          $ref: '#/components/schemas/Space'
        team:
          $ref: '#/components/schemas/Team'
        submissionSchema:
          type: array
          x-stoplight:
            id: 4wisk71l5hfjp
          items:
            $ref: '#/components/schemas/TaskSubmissionSchemaEntry'
        submitters:
          type: object
          x-stoplight:
            id: w0749edcukpmq
          required:
            - total
            - examples
          properties:
            total:
              type: integer
              x-stoplight:
                id: trv0atykejbu5
            examples:
              type: array
              x-stoplight:
                id: aje2w7sfdbvh5
              items:
                type: object
                required:
                  - avatarId
                properties:
                  avatarId:
                    type: integer
                    x-stoplight:
                      id: 2uhgeb0nk8kh6
                    format: int64
        updatedAt:
          type: integer
          x-stoplight:
            id: farniiu4ivtrv
          format: int64
        createdAt:
          type: integer
          x-stoplight:
            id: ish0wypndvdar
          format: int64
        joinable:
          type: boolean
          description: 'Only has value when: ''queryJoinablity'' == true'
        joinableAsTeam:
          type: array
          items:
            $ref: '#/components/schemas/TeamSummary'
        submittable:
          type: boolean
          description: 'Only has value when: ''querySubmitability'' == true'
        submittableAsTeam:
          type: array
          items:
            $ref: '#/components/schemas/TeamSummary'
        rank:
          type: integer
        approved:
          $ref: '#/components/schemas/ApproveType'
        rejectReason:
          type: string
        joined:
          type: boolean
        joinedAsTeam:
          type: array
          items:
            $ref: '#/components/schemas/TeamSummary'
        joinedApproved:
          type: boolean
        joinedApprovedAsTeam:
          type: array
          items:
            $ref: '#/components/schemas/TeamSummary'
        joinedDisapproved:
          type: boolean
        joinedDisapprovedAsTeam:
          type: array
          items:
            $ref: '#/components/schemas/TeamSummary'
        joinedNotApprovedOrDisapproved:
          type: boolean
        joinedNotApprovedOrDisapprovedAsTeam:
          type: array
          items:
            $ref: '#/components/schemas/TeamSummary'
        topics:
          type: array
          items:
            $ref: '#/components/schemas/Topic'
    TaskSubmitterType:
      title: TaskSubmitterType
      x-stoplight:
        id: dtoqyjd8a2bf7
      enum:
        - USER
        - TEAM
    TaskSubmissionSchemaEntry:
      title: TaskSubmissionSchemaEntry
      x-stoplight:
        id: kmliwrhewdbbp
      type: object
      required:
        - prompt
        - type
      properties:
        prompt:
          type: string
          x-stoplight:
            id: ijaf5jbzth1jv
        type:
          $ref: '#/components/schemas/TaskSubmissionType'
    TaskSubmissionType:
      title: TaskSubmissionType
      x-stoplight:
        id: cagzlk1idchbo
      enum:
        - TEXT
        - FILE
    TaskSubmissionReview:
      title: TaskSubmissionReview
      type: object
      required:
        - reviewed
      properties:
        reviewed:
          type: boolean
        detail:
          type: object
          description: Has value only when 'reviewed' is true
          required:
            - accepted
            - score
            - comment
          properties:
            accepted:
              type: boolean
            score:
              type: integer
            comment:
              type: string
    TaskSubmission:
      title: TaskSubmission
      x-stoplight:
        id: 91u776sjgs8ok
      type: object
      required:
        - id
        - member
        - submitter
        - version
        - createdAt
        - updatedAt
        - content
      properties:
        id:
          type: integer
          format: int64
        member:
          $ref: '#/components/schemas/TaskParticipantSummary'
        submitter:
          $ref: '#/components/schemas/User'
        version:
          type: integer
        createdAt:
          type: integer
          format: int64
        updatedAt:
          type: integer
          format: int64
        content:
          type: array
          items:
              $ref: '#/components/schemas/TaskSubmissionContentEntry'
        review:
          $ref: '#/components/schemas/TaskSubmissionReview'
    TaskSubmissionContentEntry:
      title: TaskSubmissionContentEntry
      type: object
      required:
        - title
        - type
      properties:
        title:
          type: string
        type:
          $ref: '#/components/schemas/TaskSubmissionType'
        contentText:
          type: string
          x-stoplight:
            id: 3jylp7lpjh288
        contentAttachment:
          $ref: '#/components/schemas/Attachment'
    Team:
      title: Team
      type: object
      x-internal: false
      x-stoplight:
        id: 3imsmwy6ayqfw
      required:
        - id
        - intro
        - description
        - name
        - avatarId
        - owner
        - admins
        - members
        - updatedAt
        - createdAt
        - joined
      properties:
        id:
          type: integer
          format: int64
          x-stoplight:
            id: kp7arkckpma4u
        intro:
          type: string
          x-stoplight:
            id: c81sns2k5brz6
        description:
          type: string
        name:
          type: string
          x-stoplight:
            id: js77va9xsq4gg
        avatarId:
          type: integer
          x-stoplight:
            id: u7o0iiyxuow4g
          format: int64
        owner:
          $ref: '#/components/schemas/User'
        admins:
          type: object
          x-stoplight:
            id: ane2g1iuw01c1
          description: include owner
          required:
            - total
            - examples
          properties:
            total:
              type: integer
              x-stoplight:
                id: gc2m7py7hasis
            examples:
              type: array
              x-stoplight:
                id: lk6mqsfxsq91p
              items:
                $ref: '#/components/schemas/User'
        updatedAt:
          type: integer
          x-stoplight:
            id: farniiu4ivtrv
          format: int64
        createdAt:
          type: integer
          x-stoplight:
            id: ish0wypndvdar
          format: int64
        members:
          type: object
          x-stoplight:
            id: vg4cqkvrcf2z2
          required:
            - total
            - examples
          properties:
            total:
              type: integer
              x-stoplight:
                id: jzp0itu9nnrat
            examples:
              type: array
              x-stoplight:
                id: 9ijkfpj25gbr7
              items:
                $ref: '#/components/schemas/User'
        joined:
          type: boolean
        role:
            $ref: '#/components/schemas/TeamMemberRoleType'
    TeamSummary:
      title: TeamSummary
      type: object
      required:
        - id
        - name
        - intro
        - avatarId
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        intro:
          type: string
        avatarId:
          type: integer
          format: int64
        updatedAt:
          type: integer
          format: int64
        createdAt:
          type: integer
          format: int64
    TaskMembership:
      title: TaskMembership
      type: object
      required:
        - id
        - member
        - createdAt
        - updatedAt
        - approved
      properties:
        id:
          type: integer
          format: int64
        member:
          $ref: '#/components/schemas/TaskParticipantSummary'
        createdAt:
          type: integer
          format: int64
        updatedAt:
          type: integer
          format: int64
        deadline:
          type: integer
          format: int64
        approved:
          $ref: '#/components/schemas/ApproveType'
        realNameInfo:
          $ref: '#/components/schemas/TaskParticipantRealNameInfo'
    TaskParticipantRealNameInfo:
      title: TaskParticipantRealNameInfo
      type: object
      required:
        - realName
        - studentId
        - grade
        - major
        - className
        - email
        - phone
        - applyReason
        - personalAdvantage
        - remark
      properties:
        realName:
          type: string
        studentId:
          type: string
        grade:
          type: string
        major:
          type: string
        className:
          type: string
        email:
          type: string
        phone:
          type: string
        applyReason:
          type: string
        personalAdvantage:
          type: string
        remark:
          type: string
    TaskParticipantSummary:
      title: TaskParticipantSummary
      type: object
      required:
        - id
        - intro
        - name
        - avatarId
      properties:
        id:
          type: integer
          format: int64
        intro:
          type: string
        name:
          type: string
        avatarId:
          type: integer
          format: int64
    TeamMember:
      properties:
        role:
          $ref: '#/components/schemas/TeamMemberRoleType'
        user:
          $ref: '#/components/schemas/User'
        updatedAt:
          type: integer
          x-stoplight:
            id: farniiu4ivtrv
          format: int64
        createdAt:
          type: integer
          x-stoplight:
            id: ish0wypndvdar
          format: int64
      required:
        - role
        - user
        - updatedAt
        - createdAt
      title: TeamMember
      type: object
      x-stoplight:
        id: razh52jtnx59o
    ApproveType:
      description: approve status of task or taskmembership
      enum:
        - APPROVED
        - DISAPPROVED
        - NONE
    TeamMemberRoleType:
      description: 
      enum:
        - OWNER
        - ADMIN
        - MEMBER
      type: string
      x-stoplight:
        id: 5f28hwh1gfr6u
    User:
      type: object
      x-stoplight:
        id: db1qnmy49o19b
      required:
        - avatarId
        - id
        - intro
        - nickname
        - username
      properties:
        avatarId:
          description:  id
          type: integer
          format: int64
        id:
          description:  ID
          format: int64
          minimum: 1
          type: integer
        intro:
          default: This user has not set an introduction yet.
          description: 
          type: string
        nickname:
          description: 
          example: 
          type: string
        username:
          description: 
          example: cheese
          type: string
    Page:
      type: object
      description: 
      x-stoplight:
        id: m5lb2tsqnpfrj
      required:
        - page_start
        - page_size
        - has_prev
        - has_more
      properties:
        page_start:
          type: integer
          format: int64
          description:  item  ID
        page_size:
          type: integer
          description:  item 
        has_prev:
          type: boolean
          description: 
        prev_start:
          type: integer
          format: int64
          description:  item  ID
        has_more:
          type: boolean
          description: 
        next_start:
          type: integer
          format: int64
          description:  item  ID
    Attachment:
      type: object
      description: 
      properties:
        id:
          type: integer
          description:  ID
          format: int64
        type:
          type: string
          description: 
          enum:
            - image
            - video
            - audio
            - file
        url:
          type: string
          description:  URL
        meta:
          oneOf:
            - $ref: '#/components/schemas/ImageMeta'
            - $ref: '#/components/schemas/VideoMeta'
            - $ref: '#/components/schemas/AudioMeta'
            - $ref: '#/components/schemas/FileMeta'
    ImageMeta:
      allOf:
        - $ref: '#/components/schemas/FileMeta'
        - type: object
          description: 
          properties:
            height:
              type: integer
              description: 
            width:
              type: integer
              description: 
            thumbnail:
              type: string
              description:  URL
    VideoMeta:
      allOf:
        - $ref: '#/components/schemas/FileMeta'
        - type: object
          description: 
          properties:
            duration:
              type: integer
              description: 
            height:
              type: integer
              description: 
            width:
              type: integer
              description: 
            thumbnail:
              type: string
              description:  URL
    AudioMeta:
      allOf:
        - $ref: '#/components/schemas/FileMeta'
        - type: object
          description: 
          properties:
            duration:
              type: integer
              description: 
              format: int64
    FileMeta:
      type: object
      description: 
      properties:
        size:
          type: integer
          description: 
          format: int64
        name:
          type: string
          description: 
        mime:
          type: string
          description: MIME 
        hash:
          type: string
          description: 
    Topic:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
      required:
        - id
        - name
    Notification:
      type: object
      required:
        - id
        - type
        - receiverId
        - content
        - read
        - createdAt
      properties:
        id:
          type: integer
          format: int64
        type:
          type: string
          enum:
            - mention
            - reply
            - reaction
            - project_invite
            - deadline_remind
        receiverId:
          type: integer
          format: int64
          description: "The ID of the user who will receive the notification. This will be mapped to a User entity in the backend."
        content:
          type: string
          description: "JSON string representing notification content, including text, projectId, discussionId, and knowledgeId."
        read:
          type: boolean
          default: false
        createdAt:
          type: integer
          format: int64
#    ProjectContent:
#      type: object
#      description: 
#      properties:
#        raw:
#          type: string
#          description: markdown
#        html:
#          type: string
#          description: HTML
#        attachments:
#          type: array
#          items:
#            $ref: '#/components/schemas/Attachment'
    Project:
      type: object
      required:
        - id
        - name
        - description
        - startDate
        - endDate
        - leaderId
        - content
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
        colorCode:
          type: string
          pattern: "^#[0-9A-Fa-f]{6}$"
        startDate:
          type: integer
          format: int64
          description: ()
        endDate:
          type: integer
          format: int64
          description: ()
        parentId:
          type: integer
          format: int64
          description: ID
        leaderId:
          type: integer
          format: int64
        externalTaskId:
          type: integer
          format: int64
        githubRepo:
          type: string
        content:
          type: string
#        path:
#          type: array
#          items:
#            type: string
#          description: 
        createdAt:
          type: integer
          format: int64
        updatedAt:
          type: integer
          format: int64
    Discussion:
      type: object
      required:
        - id
        - projectId
        - content
        - senderId
      properties:
        id:
          type: integer
          format: int64
        projectId:
          type: integer
          format: int64
        content:
          type: string
        parentId:
          type: integer
          format: int64
          description: ID
        sender:
          $ref: '#/components/schemas/User'
        mentionedUsers:
          type: array
          items:
            $ref: '#/components/schemas/User'
        reactions:
          type: array
          items:
            type: object
            properties:
              emoji:
                type: string
              count:
                type: integer
              users:
                type: array
                items:
                  $ref: '#/components/schemas/User'
        createdAt:
          type: integer
          format: int64
    Knowledge:
      type: object
      required:
        - id
        - name
        - type
        - content
        - createdById
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
        type:
          type: string
          enum:
            - document
            - link
            - text
            - image
        content:
          type: string
        materialId:
          type: integer
          format: int64
        projectIds:
          type: array
          items:
            type: integer
            format: int64
        labels:
          type: array
          items:
            type: string
        creator:
          $ref: '#/components/schemas/User'
        createdAt:
          type: integer
          format: int64
        updatedAt:
          type: integer
          format: int64
  securitySchemes:
    bearerAuth:
      description: The access token is used in this way.
      in: header
      name: Authorization
      type: apiKey
security:
  - bearerAuth: []
x-components:
  parameters: {}
x-stoplight:
  id: x4r8qoe9jcv7l
