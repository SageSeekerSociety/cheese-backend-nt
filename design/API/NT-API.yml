swagger: '2.0'
info:
  title: Cheese Community API
  version: '1.0'
host: 'localhost:7777'
basePath: /api/v1
schemes:
  - http
paths:
  /space:
    delete:
      produces:
        - application/json
      parameters:
        - description: Space ID
          in: query
          name: space
          type: integer
          required: true
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: fr61caeks4gxw
              message:
                type: string
                x-stoplight:
                  id: 8ylo3xkd1jmiq
      tags: []
      operationId: delete-space
      summary: Delete Space
      x-stoplight:
        id: y5t7k7vw6v5lj
    get:
      produces:
        - application/json
      parameters:
        - description: Space ID
          in: query
          name: space
          type: integer
          required: true
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: fr61caeks4gxw
              data:
                type: object
                x-stoplight:
                  id: aq9k2n1lkyybd
                required:
                  - space
                properties:
                  space:
                    $ref: '#/definitions/Space'
              message:
                type: string
                x-stoplight:
                  id: 8ylo3xkd1jmiq
      tags: []
      operationId: get-space
      summary: Query Space
      x-stoplight:
        id: sa76mapokoxdw
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Space ID
          in: query
          name: space
          type: integer
          required: true
        - in: body
          name: body
          schema:
            type: object
            properties:
              intro:
                type: string
                x-stoplight:
                  id: o0xbwqyvvlxbw
              name:
                type: string
                x-stoplight:
                  id: nvrbufaetpfgt
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: fr61caeks4gxw
              data:
                type: object
                x-stoplight:
                  id: aq9k2n1lkyybd
                required:
                  - space
                properties:
                  space:
                    $ref: '#/definitions/Space'
              message:
                type: string
                x-stoplight:
                  id: 8ylo3xkd1jmiq
      tags: []
      operationId: patch-space
      summary: Update Space
      x-stoplight:
        id: 0f71c5ul8igvq
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            type: object
            required:
              - intro
              - name
            properties:
              intro:
                type: string
                x-stoplight:
                  id: 7k1r7n9xll0k2
              name:
                type: string
                x-stoplight:
                  id: ters5hblboh72
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: fr61caeks4gxw
              data:
                type: object
                x-stoplight:
                  id: aq9k2n1lkyybd
                required:
                  - space
                properties:
                  space:
                    $ref: '#/definitions/Space'
              message:
                type: string
                x-stoplight:
                  id: 8ylo3xkd1jmiq
      tags: []
      operationId: post-space
      summary: Create Space
      x-stoplight:
        id: pg0dllezwwg9w
  /task:
    delete:
      produces:
        - application/json
      parameters:
        - description: Task ID
          in: query
          name: task
          type: integer
          required: true
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: 5h4i9qnxtzkyc
              message:
                type: string
                x-stoplight:
                  id: yakrhf5tw2k0o
      tags: []
      operationId: delete-task
      summary: Delete Task
      x-stoplight:
        id: zjib7afl5gujp
    get:
      produces:
        - application/json
      parameters:
        - description: Task ID
          in: query
          name: task
          type: integer
          required: true
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: ehv14gy4oxg6y
              data:
                type: object
                x-stoplight:
                  id: nkg36f022iluq
                required:
                  - task
                properties:
                  task:
                    $ref: '#/definitions/Task'
              message:
                type: string
                x-stoplight:
                  id: avsxy26ifxoca
      tags: []
      operationId: get-task
      summary: Query Task
      x-stoplight:
        id: fuv3w7t9i0rmo
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Task ID
          in: query
          name: task
          type: integer
          required: true
        - in: body
          name: body
          schema:
            type: object
            properties:
              deadline:
                type: integer
                x-stoplight:
                  id: wj7yxfw7y74jt
              has_deadline:
                type: boolean
                x-stoplight:
                  id: ki4esb34t5egb
              has_space_id:
                type: boolean
                x-stoplight:
                  id: uzl8bfetl8xic
              intro:
                type: string
                x-stoplight:
                  id: vhpalzkv4yw1j
              name:
                type: string
                x-stoplight:
                  id: cqjfpanliesrt
              space_id:
                type: integer
                x-stoplight:
                  id: ng9yusn2894ro
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: ehv14gy4oxg6y
              data:
                type: object
                x-stoplight:
                  id: nkg36f022iluq
                required:
                  - task
                properties:
                  task:
                    $ref: '#/definitions/Task'
              message:
                type: string
                x-stoplight:
                  id: avsxy26ifxoca
      tags: []
      operationId: patch-task
      summary: Update Task
      x-stoplight:
        id: sy7yhfh83myt0
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            type: object
            required:
              - intro
              - name
            properties:
              deadline:
                type: integer
                x-stoplight:
                  id: wj7yxfw7y74jt
              intro:
                type: string
                x-stoplight:
                  id: vhpalzkv4yw1j
              name:
                type: string
                x-stoplight:
                  id: cqjfpanliesrt
              space_id:
                type: integer
                x-stoplight:
                  id: ng9yusn2894ro
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: ehv14gy4oxg6y
              data:
                type: object
                x-stoplight:
                  id: nkg36f022iluq
                required:
                  - task
                properties:
                  task:
                    $ref: '#/definitions/Task'
              message:
                type: string
                x-stoplight:
                  id: avsxy26ifxoca
      tags: []
      operationId: post-task
      summary: Create Task
      x-stoplight:
        id: ai79622xpxp6v
  /task/member:
    delete:
      produces:
        - application/json
      parameters:
        - description: Task ID
          in: query
          name: task
          type: integer
          required: true
        - description: '"USER" or "TEAM"'
          in: query
          name: member_type
          type: string
          required: true
        - description: Member ID
          in: query
          name: member
          type: integer
          required: true
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: ehv14gy4oxg6y
              data:
                type: object
                x-stoplight:
                  id: nkg36f022iluq
                required:
                  - task
                properties:
                  task:
                    $ref: '#/definitions/Task'
              message:
                type: string
                x-stoplight:
                  id: avsxy26ifxoca
      tags: []
      operationId: delete-task-member
      summary: Kick Out Task Member
      x-stoplight:
        id: a3mg97p7csitv
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Task ID
          in: query
          name: task
          type: integer
          required: true
        - description: '"USER" or "TEAM"'
          in: query
          name: member_type
          type: string
          required: true
        - description: Member ID
          in: query
          name: member
          type: integer
          required: true
        - in: body
          name: body
          schema:
            type: object
            properties:
              role:
                $ref: '#/definitions/TaskMemberRoleType'
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: ehv14gy4oxg6y
              data:
                type: object
                x-stoplight:
                  id: nkg36f022iluq
                required:
                  - task
                properties:
                  task:
                    $ref: '#/definitions/Task'
              message:
                type: string
                x-stoplight:
                  id: avsxy26ifxoca
      tags: []
      operationId: patch-task-member
      summary: Update Task Member Info
      x-stoplight:
        id: tc7uqwv28y2y3
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Task ID
          in: query
          name: task
          type: integer
          required: true
        - in: body
          name: body
          schema:
            type: object
            required:
              - member_id
              - role
              - type
            properties:
              member_id:
                type: integer
                x-stoplight:
                  id: 1r8s7arybars8
              role:
                $ref: '#/definitions/TaskMemberRoleType'
              type:
                $ref: '#/definitions/TaskMemberType'
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: ehv14gy4oxg6y
              data:
                type: object
                x-stoplight:
                  id: nkg36f022iluq
                required:
                  - task
                properties:
                  task:
                    $ref: '#/definitions/Task'
              message:
                type: string
                x-stoplight:
                  id: avsxy26ifxoca
      tags: []
      operationId: post-task-member
      summary: Add Task Member
      x-stoplight:
        id: 0ecf6ar0lufhc
  /team:
    delete:
      produces:
        - application/json
      parameters:
        - description: Team ID
          in: query
          name: team
          type: integer
          required: true
      responses:
        '200':
          description: No Content
          schema:
            type: object
            required:
              - code
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: d3x5wr67b0uvq
              message:
                type: string
                x-stoplight:
                  id: 1tqn6nvv2twh3
      tags: []
      operationId: delete-team
      summary: Delete Team
      x-stoplight:
        id: cszkqabi3y737
    get:
      produces:
        - application/json
      parameters:
        - description: Team ID
          in: query
          name: team
          type: integer
          required: true
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: tlgjum86pp2qc
              data:
                type: object
                x-stoplight:
                  id: uc32cpg2k5x68
                required:
                  - team
                properties:
                  team:
                    $ref: '#/definitions/Team'
              message:
                type: string
                x-stoplight:
                  id: zp1goqu7fzjss
      tags: []
      operationId: get-team
      summary: Query Team
      x-stoplight:
        id: kvkav72t81xwo
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Team ID
          in: query
          name: team
          type: integer
          required: true
        - in: body
          name: body
          schema:
            type: object
            properties:
              intro:
                type: string
                x-stoplight:
                  id: 8ctriovz0q68i
              name:
                type: string
                x-stoplight:
                  id: w0qplzea4vc28
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: tlgjum86pp2qc
              data:
                type: object
                x-stoplight:
                  id: uc32cpg2k5x68
                required:
                  - team
                properties:
                  team:
                    $ref: '#/definitions/Team'
              message:
                type: string
                x-stoplight:
                  id: zp1goqu7fzjss
      tags: []
      operationId: patch-team
      summary: Update Team
      x-stoplight:
        id: 6f4e855dosj7n
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            type: object
            required:
              - intro
              - name
            properties:
              intro:
                type: string
                x-stoplight:
                  id: ld5e4eauav2h5
              name:
                type: string
                x-stoplight:
                  id: fjmkk5mgsmm7u
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: tlgjum86pp2qc
              data:
                type: object
                x-stoplight:
                  id: uc32cpg2k5x68
                required:
                  - team
                properties:
                  team:
                    $ref: '#/definitions/Team'
              message:
                type: string
                x-stoplight:
                  id: zp1goqu7fzjss
      tags: []
      operationId: post-team
      summary: Create Team
      x-stoplight:
        id: b30d0d09hir43
  /team/member:
    delete:
      produces:
        - application/json
      parameters:
        - description: Team ID
          in: query
          name: team
          type: integer
          required: true
        - description: Member User ID
          in: query
          name: user
          type: integer
          required: true
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: tlgjum86pp2qc
              data:
                type: object
                x-stoplight:
                  id: uc32cpg2k5x68
                required:
                  - team
                properties:
                  team:
                    $ref: '#/definitions/Team'
              message:
                type: string
                x-stoplight:
                  id: zp1goqu7fzjss
      tags: []
      operationId: delete-team-member
      summary: Kick Out Team Member
      x-stoplight:
        id: 2d36c06ks5t0y
    patch:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Team ID
          in: query
          name: team
          type: integer
          required: true
        - description: Member User ID
          in: query
          name: user
          type: integer
          required: true
        - in: body
          name: body
          schema:
            type: object
            properties:
              role:
                $ref: '#/definitions/TeamMemberRoleType'
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: tlgjum86pp2qc
              data:
                type: object
                x-stoplight:
                  id: uc32cpg2k5x68
                required:
                  - team
                properties:
                  team:
                    $ref: '#/definitions/Team'
              message:
                type: string
                x-stoplight:
                  id: zp1goqu7fzjss
      tags: []
      operationId: patch-team-member
      summary: Update Team Membership Info
      x-stoplight:
        id: 5kzla05sox4wy
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Team ID
          in: query
          name: team
          type: integer
          required: true
        - in: body
          name: body
          schema:
            type: object
            required:
              - role
              - user_id
            properties:
              role:
                $ref: '#/definitions/TeamMemberRoleType'
              user_id:
                type: integer
                x-stoplight:
                  id: wdxfg6sq0yrj5
      responses:
        '200':
          description: OK
          schema:
            type: object
            required:
              - code
              - data
              - message
            properties:
              code:
                type: integer
                x-stoplight:
                  id: tlgjum86pp2qc
              data:
                type: object
                x-stoplight:
                  id: uc32cpg2k5x68
                required:
                  - team
                properties:
                  team:
                    $ref: '#/definitions/Team'
              message:
                type: string
                x-stoplight:
                  id: zp1goqu7fzjss
      tags: []
      operationId: post-team-member
      summary: Add Team Member
      x-stoplight:
        id: qpmnix1tpjoiy
definitions:
  Space:
    title: Space
    type: object
    x-stoplight:
      id: m94sek8uqj951
    required:
      - id
      - intro
      - name
    properties:
      id:
        type: integer
        x-stoplight:
          id: 52nmixpoapf5m
      intro:
        type: string
        x-stoplight:
          id: 63zv59n5mly94
      name:
        type: string
        x-stoplight:
          id: 5nbcfqkp85xhz
  Task:
    title: Task
    type: object
    x-stoplight:
      id: 3spbmywj9wzkf
    required:
      - id
      - intro
      - members
      - name
    properties:
      deadline:
        type: integer
        x-stoplight:
          id: b1yizo35ccdr5
      id:
        type: integer
        x-stoplight:
          id: 34pdr2ppu7b1x
      intro:
        type: string
        x-stoplight:
          id: j39pzwuexe2hy
      members:
        type: array
        x-stoplight:
          id: 0u5jpgv2an5wr
        items:
          $ref: '#/definitions/TaskMember'
      name:
        type: string
        x-stoplight:
          id: rbj58vdb6mhrx
      space:
        $ref: '#/definitions/Space'
  TaskMember:
    title: TaskMember
    type: object
    x-stoplight:
      id: pazj46hbk73rw
    required:
      - member
      - role
      - type
    properties:
      member:
        x-stoplight:
          id: n50h65la9eeur
        anyOf:
          - $ref: '#/definitions/User'
          - $ref: '#/definitions/Team'
        type: object
      role:
        $ref: '#/definitions/TaskMemberRoleType'
      type:
        $ref: '#/definitions/TaskMemberType'
  TaskMemberRoleType:
    description: 小组角色
    enum:
      - OWNER
      - ADMIN
      - MEMBER
    type: string
    x-stoplight:
      id: v685avb1jcocu
  TaskMemberType:
    enum:
      - USER
      - TEAM
    title: TaskMemberType
    x-stoplight:
      id: 1y8uxlhtys1nv
  Team:
    title: Team
    type: object
    x-internal: false
    x-stoplight:
      id: 3imsmwy6ayqfw
    required:
      - id
      - intro
      - members
      - name
    properties:
      id:
        type: integer
        x-stoplight:
          id: kp7arkckpma4u
      intro:
        type: string
        x-stoplight:
          id: c81sns2k5brz6
      members:
        type: array
        x-stoplight:
          id: tixv6labywvr0
        items:
          $ref: '#/definitions/TeamMember'
      name:
        type: string
        x-stoplight:
          id: js77va9xsq4gg
  TeamMember:
    title: TeamMember
    type: object
    x-stoplight:
      id: razh52jtnx59o
    required:
      - role
      - user
    properties:
      role:
        $ref: '#/definitions/TeamMemberRoleType'
      user:
        $ref: '#/definitions/User'
  TeamMemberRoleType:
    description: 小组角色
    enum:
      - OWNER
      - ADMIN
      - MEMBER
    type: string
    x-stoplight:
      id: 5f28hwh1gfr6u
  User:
    properties:
      answer_count:
        description: 回答数量
        example: 810
        format: int64
        minimum: 0
        type: integer
      avatarId:
        description: 头像 id
        type: integer
      fans_count:
        description: 粉丝数量
        example: 514
        format: int64
        minimum: 0
        type: integer
      follow_count:
        description: 关注用户的数量
        example: 114
        format: int64
        minimum: 0
        type: integer
      id:
        description: 用户 ID
        format: int64
        minimum: 1
        type: integer
      intro:
        default: This user has not set an introduction yet.
        description: 个人简介
        type: string
      is_follow:
        description: 当前登录用户是否关注该用户
        type: boolean
      nickname:
        description: 昵称
        example: 芝士
        type: string
      question_count:
        description: 提问数量
        example: 1919
        format: int64
        minimum: 0
        type: integer
      username:
        description: 用户名
        example: cheese
        type: string
    required:
      - id
      - username
      - nickname
      - avatarId
      - intro
      - follow_count
      - fans_count
      - question_count
      - answer_count
    type: object
    x-stoplight:
      id: db1qnmy49o19b
securityDefinitions:
  bearerAuth:
    description: The access token is used in this way.
    in: header
    name: Authorization
    type: apiKey
security:
  - bearerAuth: []
x-components:
  parameters: {}
x-stoplight:
  id: x4r8qoe9jcv7l
